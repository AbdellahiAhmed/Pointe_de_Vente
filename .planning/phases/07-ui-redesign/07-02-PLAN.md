---
phase: 07-ui-redesign
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - front/package.json
  - front/src/app-admin/containers/dashboard/dashboard.tsx
  - front/src/app-admin/containers/reports/sales-report.tsx
  - front/src/app-admin/containers/reports/category-report.tsx
  - front/src/app-admin/containers/reports/vendor-report.tsx
  - front/src/app-admin/containers/reports/profit-report.tsx
  - front/src/app-admin/containers/reports/daily-report.tsx
  - front/src/app-admin/containers/dashboard/users/index.tsx
autonomous: true
requirements: [UIADM-01, UIADM-02, UIADM-03]

must_haves:
  truths:
    - "Admin dashboard shows 5 KPI cards: Sales, Revenue, Profit, Average Basket, Low Stock Count"
    - "Sales report displays a bar chart for payment breakdown alongside the existing table"
    - "Category report displays a pie chart for revenue distribution alongside the existing table"
    - "Vendor report displays a bar chart for vendor revenue alongside the existing table"
    - "Profit report displays a bar chart for top products profit alongside the existing table"
    - "Daily report displays charts for payment breakdown and top products alongside existing tables"
    - "Admin Users page shows a table with all users, their roles, and edit/activate actions"
    - "Admin Users page has a Create User button that opens a form with role selection (VENDEUR/MANAGER/ADMIN)"
  artifacts:
    - path: "front/package.json"
      provides: "Nivo packages upgraded to ^0.87.0 with @nivo/line added"
      contains: "@nivo/line"
    - path: "front/src/app-admin/containers/dashboard/dashboard.tsx"
      provides: "Dashboard with 5 KPI cards including average basket and low stock"
      contains: "averageBasket"
    - path: "front/src/app-admin/containers/reports/sales-report.tsx"
      provides: "Sales report with payment bar chart"
      contains: "ResponsiveBar"
    - path: "front/src/app-admin/containers/reports/category-report.tsx"
      provides: "Category report with revenue pie chart"
      contains: "ResponsivePie"
    - path: "front/src/app-admin/containers/dashboard/users/index.tsx"
      provides: "Complete user management page with table and role assignment"
      contains: "ROLE_VENDEUR"
  key_links:
    - from: "front/src/app-admin/containers/reports/sales-report.tsx"
      to: "@nivo/bar"
      via: "import ResponsiveBar"
      pattern: "import.*ResponsiveBar.*@nivo/bar"
    - from: "front/src/app-admin/containers/reports/category-report.tsx"
      to: "@nivo/pie"
      via: "import ResponsivePie"
      pattern: "import.*ResponsivePie.*@nivo/pie"
    - from: "front/src/app-admin/containers/dashboard/dashboard.tsx"
      to: "STOCK_ALERTS API"
      via: "fetch for low stock count"
      pattern: "STOCK_ALERTS"
    - from: "front/src/app-admin/containers/dashboard/users/index.tsx"
      to: "USER_LIST API"
      via: "jsonRequest for user data"
      pattern: "USER_LIST|USER_CREATE"
    - from: "front/src/app-admin/containers/dashboard/users/index.tsx"
      to: "USER_EDIT API"
      via: "PUT jsonRequest for isActive toggle and user updates"
      pattern: "USER_EDIT"
---

<objective>
Redesign the admin dashboard and reports with real KPI cards, professional Nivo chart visualizations, and a complete user management page.

Purpose: The admin dashboard is the first screen a MANAGER or ADMIN sees. It must immediately surface today's business health (revenue, tickets, basket size, stock status). Report pages must present data visually (charts) rather than as raw tables. The user management page must be fully functional with the three-role system.

Output: Dashboard with 5 KPI cards, Nivo charts on all 5 report pages, complete admin Users page with CRUD and role management.
</objective>

<execution_context>
@/Users/abdellahi/.claude/get-shit-done/workflows/execute-plan.md
@/Users/abdellahi/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-ui-redesign/07-RESEARCH.md
@front/src/app-admin/containers/dashboard/dashboard.tsx
@front/src/app-admin/containers/reports/sales-report.tsx
@front/src/app-admin/containers/reports/category-report.tsx
@front/src/app-admin/containers/reports/vendor-report.tsx
@front/src/app-admin/containers/reports/profit-report.tsx
@front/src/app-admin/containers/reports/daily-report.tsx
@front/src/app-admin/containers/dashboard/users/index.tsx
@front/src/app-frontend/components/settings/users/users.tsx
@front/src/app-frontend/components/settings/users/create.user.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Upgrade Nivo and add KPI cards + charts to dashboard and report pages</name>
  <files>
    front/package.json
    front/src/app-admin/containers/dashboard/dashboard.tsx
    front/src/app-admin/containers/reports/sales-report.tsx
    front/src/app-admin/containers/reports/category-report.tsx
    front/src/app-admin/containers/reports/vendor-report.tsx
    front/src/app-admin/containers/reports/profit-report.tsx
    front/src/app-admin/containers/reports/daily-report.tsx
  </files>
  <action>
**1. Upgrade Nivo packages:**

Run: `cd /Users/abdellahi/Documents/POS/Pointe_de_Vente/front && npm install @nivo/core@^0.87.0 @nivo/bar@^0.87.0 @nivo/pie@^0.87.0 @nivo/line@^0.87.0 --legacy-peer-deps`

This upgrades @nivo/core, @nivo/bar, @nivo/pie from 0.79.x to 0.87+ (resolving the React 18 peer dependency conflict) and adds @nivo/line (new).

**2. Enhance `dashboard.tsx` with 2 additional KPI cards (Average Basket + Low Stock Count):**

The dashboard currently shows 3 KPI cards (Sales/totalOrders, Revenue/netRevenue, Profit/grossProfit). Add 2 more:

- **Average Basket card:** The `REPORT_DAILY` endpoint already returns `averageBasket` in its response (confirmed in `daily-report.tsx` DailyData interface). Add a 4th card:
  ```tsx
  <div className="col-xxl-3 col-md-6">
    <div className="card info-card">
      <div className="card-body">
        <h5 className="card-title">{t("Average Basket")} <span>| {t("Today")}</span></h5>
        <div className="d-flex align-items-center">
          <div className="card-icon rounded-circle d-flex align-items-center justify-content-center">
            <i className="bi bi-basket"></i>
          </div>
          <div className="ps-3">
            <h6>{loading ? '...' : formatCurrency(data?.averageBasket ?? 0)}</h6>
            <span className="text-muted small">{t('per order').toLowerCase()}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
  ```

- **Low Stock Count card:** Fetch from `STOCK_ALERTS` endpoint which returns `count`. Add a separate fetch in the useEffect:
  ```tsx
  import {STOCK_ALERTS} from "../../../api/routing/routes/backend.app";

  const [lowStockCount, setLowStockCount] = useState<number>(0);

  // Inside the existing useEffect, add a second fetch:
  const fetchLowStock = async () => {
    try {
      const response = await jsonRequest(STOCK_ALERTS);
      const json = await response.json();
      setLowStockCount(json['hydra:totalItems'] ?? json.count ?? 0);
    } catch (e) { /* ignore */ }
  };
  fetchLowStock();
  ```

  Add the KPI card:
  ```tsx
  <div className="col-xxl-3 col-md-6">
    <div className="card info-card" style={{borderLeft: '4px solid #f59e0b'}}>
      <div className="card-body">
        <h5 className="card-title">{t("Low Stock")} <span>| {t("Now")}</span></h5>
        <div className="d-flex align-items-center">
          <div className="card-icon rounded-circle d-flex align-items-center justify-content-center" style={{background: '#fef3c7'}}>
            <i className="bi bi-exclamation-triangle" style={{color: '#f59e0b'}}></i>
          </div>
          <div className="ps-3">
            <h6 className={lowStockCount > 0 ? 'text-warning' : 'text-success'}>
              {loading ? '...' : lowStockCount}
            </h6>
            <span className="text-muted small">{t('products').toLowerCase()}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
  ```

- Restructure the KPI row: Change the existing layout from `col-lg-8` containing 3 cards + `col-lg-4` sidebar to a full-width top section with all 5 KPI cards in one row (using `col-xxl col-md-6` for auto sizing, or 5 cards in a `col-xxl-2-4` equivalent). Simpler approach: use 2 rows -- first row with 3 cards (existing), second row with 2 cards (new). Or use a single row with `col-xl-2 col-md-4 col-6` for 5 even cards. Best approach given Bootstrap grid (no 5-column): keep existing 3 cards in first row as `col-xxl-4 col-md-4`, add a second row with 2 cards as `col-md-6`.

- Place the KPI section ABOVE the existing content. Keep the payment breakdown table, quick links, top products, and financial summary below.

**3. Add Nivo charts to `sales-report.tsx`:**

Import `ResponsiveBar` from `@nivo/bar`. After the existing payment breakdown table, add a bar chart:

```tsx
import { ResponsiveBar } from '@nivo/bar';

// Inside the Payment Breakdown card, after the table, add:
{data.payments.length > 0 && (
  <div style={{ height: 300 }} className="mt-3">
    <ResponsiveBar
      data={data.payments.map(p => ({
        paymentType: p.paymentType,
        amount: Number(p.amount),
      }))}
      keys={['amount']}
      indexBy="paymentType"
      margin={{ top: 10, right: 20, bottom: 50, left: 80 }}
      padding={0.3}
      colors={{ scheme: 'paired' }}
      axisBottom={{ tickRotation: -45 }}
      axisLeft={{
        format: (v: number) => new Intl.NumberFormat('fr-FR').format(v),
      }}
      enableLabel={false}
      tooltip={({ indexValue, value }) => (
        <div style={{ padding: 8, background: '#fff', border: '1px solid #ccc', borderRadius: 4 }}>
          <strong>{indexValue}</strong>: {new Intl.NumberFormat('fr-FR').format(value as number)} MRU
        </div>
      )}
    />
  </div>
)}
```

**4. Add Nivo charts to `category-report.tsx`:**

Import `ResponsivePie` from `@nivo/pie`. Add a pie chart showing revenue distribution by category:

```tsx
import { ResponsivePie } from '@nivo/pie';

// Before the existing table, add a chart row:
<div className="row mb-4">
  <div className="col-12">
    <div className="card">
      <div className="card-body">
        <h5 className="card-title">{t('Revenue by Category')}</h5>
        {data.categories.length > 0 && (
          <div style={{ height: 350 }}>
            <ResponsivePie
              data={data.categories.map(c => ({
                id: c.categoryName,
                label: c.categoryName,
                value: c.netRevenue,
              }))}
              margin={{ top: 20, right: 80, bottom: 20, left: 80 }}
              innerRadius={0.5}
              padAngle={0.7}
              cornerRadius={3}
              colors={{ scheme: 'paired' }}
              borderWidth={1}
              borderColor={{ from: 'color', modifiers: [['darker', 0.2]] }}
              arcLinkLabelsSkipAngle={10}
              arcLabelsSkipAngle={10}
              arcLinkLabelsTextColor="#333"
              arcLinkLabelsThickness={2}
              arcLinkLabelsColor={{ from: 'color' }}
              valueFormat={(v) => new Intl.NumberFormat('fr-FR').format(v) + ' MRU'}
            />
          </div>
        )}
      </div>
    </div>
  </div>
</div>
```

**5. Add Nivo charts to `vendor-report.tsx`:**

Import `ResponsiveBar`. Add a horizontal bar chart showing revenue by vendor:

```tsx
import { ResponsiveBar } from '@nivo/bar';

// Before the existing table, add:
{data.vendors.length > 0 && (
  <div className="row mb-4">
    <div className="col-12">
      <div className="card">
        <div className="card-body">
          <h5 className="card-title">{t('Revenue by Vendor')}</h5>
          <div style={{ height: Math.max(200, data.vendors.length * 50) }}>
            <ResponsiveBar
              data={data.vendors.map(v => ({
                vendor: v.vendorName,
                revenue: v.netRevenue,
              }))}
              keys={['revenue']}
              indexBy="vendor"
              layout="horizontal"
              margin={{ top: 10, right: 40, bottom: 30, left: 120 }}
              padding={0.3}
              colors={{ scheme: 'paired' }}
              enableLabel={true}
              labelFormat={(v) => new Intl.NumberFormat('fr-FR').format(Number(v))}
              tooltip={({ indexValue, value }) => (
                <div style={{ padding: 8, background: '#fff', border: '1px solid #ccc', borderRadius: 4 }}>
                  <strong>{indexValue}</strong>: {new Intl.NumberFormat('fr-FR').format(value as number)} MRU
                </div>
              )}
            />
          </div>
        </div>
      </div>
    </div>
  </div>
)}
```

**6. Add Nivo charts to `profit-report.tsx`:**

Import `ResponsiveBar`. Add a bar chart showing top products by profit:

```tsx
import { ResponsiveBar } from '@nivo/bar';

// Before the existing top products table, add:
{data.topProducts.length > 0 && (
  <div className="row mb-4">
    <div className="col-12">
      <div className="card">
        <div className="card-body">
          <h5 className="card-title">{t('Profit by Product')}</h5>
          <div style={{ height: 350 }}>
            <ResponsiveBar
              data={data.topProducts.slice(0, 10).map(p => ({
                product: p.productName.length > 20 ? p.productName.substring(0, 20) + '...' : p.productName,
                profit: Number(p.profit),
                revenue: Number(p.revenue),
              }))}
              keys={['profit', 'revenue']}
              indexBy="product"
              groupMode="grouped"
              margin={{ top: 10, right: 20, bottom: 60, left: 80 }}
              padding={0.2}
              colors={['#10b981', '#3b82f6']}
              axisBottom={{ tickRotation: -45 }}
              enableLabel={false}
              legends={[
                {
                  dataFrom: 'keys',
                  anchor: 'top-right',
                  direction: 'row',
                  translateY: -10,
                  itemWidth: 80,
                  itemHeight: 20,
                  symbolSize: 12,
                }
              ]}
              tooltip={({ id, indexValue, value }) => (
                <div style={{ padding: 8, background: '#fff', border: '1px solid #ccc', borderRadius: 4 }}>
                  <strong>{indexValue}</strong> - {id}: {new Intl.NumberFormat('fr-FR').format(value as number)} MRU
                </div>
              )}
            />
          </div>
        </div>
      </div>
    </div>
  </div>
)}
```

**7. Add Nivo charts to `daily-report.tsx`:**

Import `ResponsiveBar` and `ResponsivePie`. Add a bar chart for payment breakdown (replace or supplement the table) and a pie chart for top products share:

```tsx
import { ResponsiveBar } from '@nivo/bar';
import { ResponsivePie } from '@nivo/pie';

// In the payment breakdown section, add a chart above the table:
{data.payments.length > 0 && (
  <div style={{ height: 250 }} className="mb-3">
    <ResponsiveBar
      data={data.payments.map(p => ({
        type: p.paymentType,
        amount: Number(p.amount),
      }))}
      keys={['amount']}
      indexBy="type"
      margin={{ top: 10, right: 20, bottom: 40, left: 80 }}
      padding={0.3}
      colors={{ scheme: 'paired' }}
      enableLabel={false}
      axisLeft={{ format: (v: number) => new Intl.NumberFormat('fr-FR').format(v) }}
    />
  </div>
)}

// In the top products section, add a pie chart:
{data.topProducts.length > 0 && (
  <div style={{ height: 250 }} className="mb-3">
    <ResponsivePie
      data={data.topProducts.map(p => ({
        id: p.productName,
        label: p.productName,
        value: Number(p.revenue),
      }))}
      margin={{ top: 10, right: 60, bottom: 10, left: 60 }}
      innerRadius={0.4}
      padAngle={0.7}
      colors={{ scheme: 'paired' }}
      arcLinkLabelsSkipAngle={10}
      arcLabelsSkipAngle={10}
      valueFormat={(v) => new Intl.NumberFormat('fr-FR').format(v) + ' MRU'}
    />
  </div>
)}
```

**CONSTRAINTS:**
- Admin uses Bootstrap classes only, NEVER Tailwind utilities
- All text strings must use `t()` for i18n. Add new translation keys to both `front/src/language/lang.fr.json` and `front/src/language/lang.ar.json`. Before adding, grep existing files to avoid duplicates. Keys that may need adding: "per order" / "Low Stock" / "Now" / "Revenue by Category" / "Revenue by Vendor" / "Profit by Product"
- CRITICAL: All Nivo chart containers MUST have explicit `height` (e.g., `style={{ height: 300 }}`). Without this, charts render at 0px.
- Use `Intl.NumberFormat('fr-FR')` for value formatting (already used in all report files)
- Keep existing data tables below charts -- charts supplement tables, don't replace them
  </action>
  <verify>
Run `cd /Users/abdellahi/Documents/POS/Pointe_de_Vente/front && npx tsc --noEmit` to verify no TypeScript errors. Run `npm run build` to confirm production build. Verify Nivo versions: `npm ls @nivo/core @nivo/bar @nivo/pie @nivo/line` should show 0.87+. Grep each report file for `ResponsiveBar\|ResponsivePie` to confirm chart imports. Grep `dashboard.tsx` for `averageBasket` and `STOCK_ALERTS` to confirm new KPI cards.
  </verify>
  <done>
Nivo upgraded to ^0.87.0 with @nivo/line added. Dashboard shows 5 KPI cards (Sales, Revenue, Profit, Average Basket, Low Stock Count). All 5 report pages display Nivo charts alongside their existing data tables. Translation keys added for new strings.
  </done>
</task>

<task type="auto">
  <name>Task 2: Build complete admin Users page with table, CRUD, and role management</name>
  <files>
    front/src/app-admin/containers/dashboard/users/index.tsx
  </files>
  <action>
**Build the admin Users page** by porting the pattern from the POS-side Users component at `front/src/app-frontend/components/settings/users/users.tsx`.

The current admin Users page at `front/src/app-admin/containers/dashboard/users/index.tsx` is a stub showing only "List" text. Replace it with a full user management page.

**Implementation details:**

1. **Import the necessary dependencies:**
   - `jsonRequest` from `../../../api/request/request`
   - `USER_LIST`, `USER_CREATE`, `USER_EDIT` from the admin routing: `../../../../api/routing/routes/admin.backend.app` (which exports `USER_LIST = adminScopeUrl('user/list')` and `USER_CREATE = adminScopeUrl('user/create')` â€” note: 4 levels up from `app-admin/containers/dashboard/users/`)
   - `useTranslation` from `react-i18next`
   - `useState`, `useEffect` from React
   - `DASHBOARD` from `../../../routes/frontend.routes`

2. **State management:**
   ```tsx
   const [users, setUsers] = useState<any[]>([]);
   const [loading, setLoading] = useState(true);
   const [showModal, setShowModal] = useState(false);
   const [editUser, setEditUser] = useState<any>(null);
   const [formData, setFormData] = useState({ displayName: '', username: '', email: '', password: '', roles: ['ROLE_VENDEUR'] });
   const [saving, setSaving] = useState(false);
   ```

3. **Fetch users on mount:**
   ```tsx
   const fetchUsers = async () => {
     setLoading(true);
     try {
       const response = await jsonRequest(USER_LIST);
       const json = await response.json();
       setUsers(json['hydra:member'] ?? json ?? []);
     } catch (e) { console.error(e); }
     finally { setLoading(false); }
   };
   useEffect(() => { fetchUsers(); }, []);
   ```

4. **Users table with Bootstrap styling:**
   - Columns: Name, Username, Email, Role (displayed as translated badge), Active status, Actions
   - Role badges: `ROLE_VENDEUR` = blue badge, `ROLE_MANAGER` = green badge, `ROLE_ADMIN` = red badge
   - Role display: Show the highest role from the roles array (using hierarchy: ADMIN > MANAGER > VENDEUR)
   - Actions column: Edit button (opens modal with pre-filled form), Activate/Deactivate toggle

5. **Create/Edit modal (Bootstrap modal):**
   - Form fields: Display Name, Username, Email, Password (only required for create), Role dropdown
   - Role dropdown with 3 options:
     ```tsx
     <select className="form-select" value={formData.roles[0]} onChange={e => setFormData({...formData, roles: [e.target.value]})}>
       <option value="ROLE_VENDEUR">{t('Vendor')}</option>
       <option value="ROLE_MANAGER">{t('Manager')}</option>
       <option value="ROLE_ADMIN">{t('Admin')}</option>
     </select>
     ```
   - Submit handler: POST to `USER_CREATE` for new users, PUT to user edit endpoint for updates
   - On success: close modal, refresh user list

6. **Create button in header:**
   ```tsx
   <button className="btn btn-primary mb-3" onClick={() => { setEditUser(null); setFormData({...defaults}); setShowModal(true); }}>
     <i className="bi bi-plus-circle me-2"></i>{t('Create User')}
   </button>
   ```

7. **Toggle user active status:**
   Port the activate/deactivate toggle from the POS users component. Use a switch or button that calls `USER_EDIT` from `../../../../api/routing/routes/admin.backend.app` (PUT request with `isActive: !currentValue`). The `USER_EDIT` endpoint takes the user ID and accepts the full user payload.

**Layout:** Use `DashboardLayout` wrapper (already imported). Bootstrap table with `table table-striped table-hover`. Modal using Bootstrap classes (`modal`, `modal-dialog`, `modal-content`, etc.) with `show`/`d-block` toggle via state, or use a simpler inline conditional rendering approach.

**Role display helper:**
```tsx
const getRoleBadge = (roles: string[]) => {
  if (roles.includes('ROLE_ADMIN')) return <span className="badge bg-danger">{t('Admin')}</span>;
  if (roles.includes('ROLE_MANAGER')) return <span className="badge bg-success">{t('Manager')}</span>;
  return <span className="badge bg-primary">{t('Vendor')}</span>;
};
```

**CONSTRAINTS:**
- Admin uses Bootstrap classes only, NEVER Tailwind utilities
- All text strings must use `t()` for i18n
- Add translation keys: "Create User", "Edit User", "Display Name", "Username", "Password", "Role", "Active", "Inactive", "Vendor", "Manager", "Admin" -- most of these already exist in lang files from Phase 1 POS-side implementation, but verify and add any missing ones to both `front/src/language/lang.fr.json` and `front/src/language/lang.ar.json`
- The three roles are: `ROLE_VENDEUR`, `ROLE_MANAGER`, `ROLE_ADMIN` (as established in Phase 1)
  </action>
  <verify>
Run `cd /Users/abdellahi/Documents/POS/Pointe_de_Vente/front && npx tsc --noEmit` to verify TypeScript. Run `npm run build` to confirm build. Grep `users/index.tsx` for `ROLE_VENDEUR` to confirm role integration. Grep for `USER_LIST` to confirm API integration.
  </verify>
  <done>
Admin Users page displays a Bootstrap table with all users showing name, username, email, role badge (VENDEUR/MANAGER/ADMIN), active status, and edit/toggle actions. A "Create User" button opens a modal form with role dropdown. Edit pre-fills the form. The stub "List" text is replaced with the full implementation.
  </done>
</task>

</tasks>

<verification>
1. `cd /Users/abdellahi/Documents/POS/Pointe_de_Vente/front && npx tsc --noEmit` -- zero errors
2. `npm run build` -- production build succeeds
3. `npm ls @nivo/core` shows version >= 0.87.0
4. `npm ls @nivo/line` shows package installed
5. `grep "averageBasket" front/src/app-admin/containers/dashboard/dashboard.tsx` matches
6. `grep "STOCK_ALERTS" front/src/app-admin/containers/dashboard/dashboard.tsx` matches
7. `grep "ResponsiveBar" front/src/app-admin/containers/reports/sales-report.tsx` matches
8. `grep "ResponsivePie" front/src/app-admin/containers/reports/category-report.tsx` matches
9. `grep "ResponsiveBar" front/src/app-admin/containers/reports/vendor-report.tsx` matches
10. `grep "ResponsiveBar" front/src/app-admin/containers/reports/profit-report.tsx` matches
11. `grep "ROLE_VENDEUR" front/src/app-admin/containers/dashboard/users/index.tsx` matches
12. `grep -c "List" front/src/app-admin/containers/dashboard/users/index.tsx` -- the stub "List" text is replaced
</verification>

<success_criteria>
- Nivo 0.87+ installed, @nivo/line added, React 18 peer dep conflict resolved
- Dashboard shows 5 KPI cards: Sales (totalOrders), Revenue (netRevenue), Profit (grossProfit), Average Basket (averageBasket), Low Stock Count (from STOCK_ALERTS)
- All 5 report pages have professional Nivo charts alongside their data tables
- Admin Users page has full user table with role badges and CRUD functionality
- Create User form includes ROLE_VENDEUR/ROLE_MANAGER/ROLE_ADMIN selection
- All new strings translated in both FR and AR
- TypeScript and production build succeed
</success_criteria>

<output>
After completion, create `.planning/phases/07-ui-redesign/07-02-SUMMARY.md`
</output>
